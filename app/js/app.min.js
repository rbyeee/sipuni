!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}document.addEventListener("DOMContentLoaded",function(){window.addEventListener("scroll",function(){var e=document.querySelector(".header");window.scrollY>50?e.classList.add("header--active"):e.classList.remove("header--active")});var t=new ScrollMagic.Controller,r=document.querySelectorAll(".step"),i=document.querySelectorAll(".step-image"),n=document.querySelector("#chronology"),a=1,o=-1;function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.querySelector('.step[data-step="'.concat(a,'"]')),o=a!==e&&!1===t;if(a!==e&&a>0&&!0===t&&n&&n.classList.add("step-down-active"),r.forEach(function(e){e.classList.remove("is-active","active-hidden")}),i.forEach(function(e){return e.classList.remove("is-active")}),o){var c=document.querySelector('.step[data-step="'.concat(e,'"]'));c&&c.classList.remove("step-down-active")}a!==e&&a>0&&n&&n.classList.add("active-hidden");var s=document.querySelector('.step[data-step="'.concat(e,'"]')),d=document.querySelector('.step-image[data-step="'.concat(e,'"]'));s&&(s.classList.add("is-active"),s.classList.remove("active-hidden")),d&&d.classList.add("is-active"),a=e}function s(){var e=100*(window.innerHeight-90)/100;return e+.5*e}var d=new ScrollMagic.Scene({triggerElement:"#chronology",triggerHook:0,offset:-90,duration:s()}).setPin(n,{pushFollowers:!0}).addTo(t).on("enter",function(){requestAnimationFrame(function(){n&&(n.style.top="90px")})}).on("update",function(){n&&"fixed"===window.getComputedStyle(n).position&&(n.style.top="90px")}).on("progress",function(e){var t=r.length;if(t){var i=-1===o||e.progress>o;o=e.progress;var n;if(e.progress<.7){var a=.7/(t-1);n=Math.min(t-2,Math.floor(e.progress/a))}else n=t-1;c(n+1,i)}}).on("leave",function(){n&&n.style.removeProperty("top")});window.addEventListener("resize",function(){d.duration(s())}),r.forEach(function(e){e.addEventListener("click",function(){var e,t=Number(this.getAttribute("data-step")),i=r.length;e=t<i?.7/(i-1)*(t-1):.85;var a=n.offsetTop-90+s()*e;window.scrollTo({top:a,behavior:"smooth"}),c(t)})}),c(1);var l=Array.from(document.querySelectorAll("[data-side-title]")),u=document.getElementById("sideNavList");if(u&&l.length){l.forEach(function(e){if(!e.id){var t=(e.getAttribute("data-side-title")||e.textContent||"section").toString().trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-а-яё]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");e.id=t||"section-".concat(Math.random().toString(36).slice(2,8))}var r=document.createElement("li");r.className="side-nav__item";var i=document.createElement("a");i.className="side-nav__link",i.href="#".concat(e.id),i.textContent=e.getAttribute("data-side-title")||e.textContent||"",r.appendChild(i),u.appendChild(r)});var f=Array.from(u.querySelectorAll(".side-nav__link"));f.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var r=e.getAttribute("href").slice(1),i=document.getElementById(r);if(i){var n=i.getBoundingClientRect().top+window.pageYOffset-20;window.scrollTo({top:n,behavior:"smooth"})}})});var v=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t=e.target.id;f.forEach(function(e){return e.classList.remove("active")});var r=u.querySelector('.side-nav__link[href="#'.concat(t,'"]'));r&&r.classList.add("active")}})},{root:null,rootMargin:"0% 0px -55% 0px",threshold:0});l.forEach(function(e){return v.observe(e)})}else{var m=Array.from(document.querySelectorAll(".side-nav__link"));if(m.length){var p=m.map(function(e){return(e.getAttribute("href")||"").trim()}).filter(function(e){return e.startsWith("#")}).map(function(e){return document.querySelector(e)}).filter(Boolean);m.forEach(function(e){e.addEventListener("click",function(t){var r=e.getAttribute("href")||"";if(r.startsWith("#")){t.preventDefault();var i=document.querySelector(r);if(i){var n=i.getBoundingClientRect().top+window.pageYOffset-20;window.scrollTo({top:n,behavior:"smooth"})}}})});var h=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t=e.target.id;if(t){m.forEach(function(e){return e.classList.remove("active")});var r=document.querySelector('.side-nav__link[href="#'.concat(t,'"]'));r&&r.classList.add("active")}}})},{root:null,rootMargin:"-35% 0px -55% 0px",threshold:0});p.forEach(function(e){return h.observe(e)})}}!function(){var e=Array.from(document.querySelectorAll(".cat-1-item"));if(e.length){var t=null,r=!1,i=function(){for(var r=window.innerHeight||document.documentElement.clientHeight,i=r/2,n=null,a=1/0,o=0,c=e;o<c.length;o++){var s=c[o],d=s.getBoundingClientRect();if(!(d.bottom<-48||d.top>r+48)){var l=d.top+d.height/2,u=Math.abs(l-i);u<a&&(a=u,n=s)}}!function(e){t!==e&&(t&&t.classList.remove("is-active"),e&&e.classList.add("is-active"),t=e)}(n)},n=function(){r||(r=!0,requestAnimationFrame(function(){i(),r=!1}))};window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0}),i(),window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&document.body.classList.add("reduce-motion")}}(),function(){var t=document.querySelector(".slider-wrapper"),r=document.getElementById("sliderPrev"),i=document.getElementById("sliderNext");if(t&&r&&i){var n=Array.from(t.querySelectorAll(".slider-card")),a=1,o=!1,c=n.map(function(e){return parseInt(e.getAttribute("data-index"))}),s=Math.min.apply(Math,e(c)),d=Math.max.apply(Math,e(c));i.addEventListener("click",function(e){e.preventDefault(),function(){if(!(o||a>=d)){o=!0;var e=n.find(function(e){return parseInt(e.getAttribute("data-index"))===a}),t=n.find(function(e){return parseInt(e.getAttribute("data-index"))===a+1});e&&t?(e.classList.remove("slider-card-active"),requestAnimationFrame(function(){e.classList.add("slider-card-exit-left"),t.classList.remove("slider-card-next"),requestAnimationFrame(function(){t.classList.add("slider-card-active")})}),setTimeout(function(){a++,l(),o=!1},1e3)):o=!1}}()}),r.addEventListener("click",function(e){e.preventDefault(),function(){if(!(o||a<=s)){o=!0;var e=n.find(function(e){return parseInt(e.getAttribute("data-index"))===a}),t=n.find(function(e){return parseInt(e.getAttribute("data-index"))===a-1});e&&t?(e.classList.remove("slider-card-active"),requestAnimationFrame(function(){e.classList.add("slider-card-exit-right"),t.classList.remove("slider-card-prev"),requestAnimationFrame(function(){t.classList.add("slider-card-active")})}),setTimeout(function(){a--,l(),o=!1},1e3)):o=!1}}()}),l()}function l(){n.forEach(function(e){var t=parseInt(e.getAttribute("data-index"))-a;e.classList.remove("slider-card-active","slider-card-prev","slider-card-next","slider-card-back-left","slider-card-back-right","slider-card-exit-left","slider-card-exit-right","slider-card-enter-right"),e.style.transform="",e.style.opacity="",0===t?e.classList.add("slider-card-active"):-1===t?e.classList.add("slider-card-prev"):1===t?e.classList.add("slider-card-next"):t<-1?e.classList.add("slider-card-back-left"):t>1&&e.classList.add("slider-card-back-right")}),r.disabled=a<=s,i.disabled=a>=d}}(),function(){var e=document.querySelector(".statistics__container"),t=e.querySelectorAll(".statistics__item"),r=e.querySelector(".statistics__item-video").querySelectorAll("img"),i=Array.from(t).filter(function(e){return!e.classList.contains("statistics__item-video")}),n=0,a=null;function o(e){r.forEach(function(e){e.style.display="none"}),r[e]&&(r[e].style.display="block")}function c(e){e<0||e>=i.length||(t.forEach(function(e){return e.classList.remove("statistics__item-active")}),i[e]&&i[e].classList.add("statistics__item-active"),o(e),n=e)}function s(){c(n=(n+1)%i.length)}function d(){a&&clearInterval(a),a=setInterval(s,5e3)}i.forEach(function(e,t){e.addEventListener("click",function(){c(t),d()})}),o(0),c(0),d()}();new Swiper(".statistics-swiper",{loop:!0,pagination:{el:".swiper-pagination"}}),new Swiper(".count-swiper",{slidesPerView:3,spaceBetween:24,pagination:{el:".swiper-pagination"},breakpoints:{1280:{slidesPerView:3},990:{slidesPerView:2},550:{slidesPerView:2},320:{slidesPerView:1}}})})}();